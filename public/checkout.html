<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ˜Ÿèªè€… âœ¦ çµå¸³ä¸­å¿ƒ Checkout</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&family=Noto+Sans+TC:wght@300;400;700&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Noto Sans TC", "Inter", sans-serif;
        background: radial-gradient(circle at 50% 20%, #0a192f, #000814 90%);
        color: #ccd6f6;
        margin: 0;
        padding: 2rem;
      }

      h1 {
        color: #64ffda;
        text-shadow: 0 0 10px #64ffda;
        text-align: center;
      }

      form {
        max-width: 500px;
        margin: 2rem auto;
        background: rgba(13, 33, 58, 0.9);
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(100, 255, 218, 0.2);
      }

      label {
        display: block;
        margin-top: 1rem;
        font-weight: 600;
        color: #64ffda;
      }

      input,
      select {
        width: 100%;
        padding: 0.6rem;
        margin-top: 0.5rem;
        border-radius: 6px;
        border: 1px solid #64ffda;
        background: rgba(10, 25, 47, 0.8);
        color: #ccd6f6;
      }

      table {
        width: 100%;
        margin-top: 1rem;
        border-collapse: collapse;
      }

      th,
      td {
        border: 1px solid rgba(100, 255, 218, 0.2);
        padding: 0.6rem;
        text-align: center;
      }

      th {
        background-color: rgba(100, 255, 218, 0.2);
      }

      .btn {
        display: block;
        margin: 1.5rem auto 0;
        padding: 0.8rem 2rem;
        border: 2px solid #64ffda;
        color: #64ffda;
        background: transparent;
        border-radius: 8px;
        font-weight: 700;
        cursor: pointer;
        transition: 0.3s;
      }

      .btn:hover {
        background: rgba(100, 255, 218, 0.1);
      }

      .total {
        text-align: right;
        font-weight: bold;
        color: #ffd700;
        margin-top: 1rem;
      }

      footer {
        text-align: center;
        margin-top: 3rem;
        color: rgba(204, 214, 246, 0.6);
      }
    </style>
  </head>

  <body>
    <h1>âœ¨ æ˜Ÿèªè€…çµå¸³ä¸­å¿ƒ âœ¨</h1>

    <form id="checkout-form">
      <h3>ğŸ› è³¼ç‰©æ¸…å–®</h3>
      <table id="cart-table">
        <tr>
          <th>å•†å“åç¨±</th>
          <th>æ•¸é‡</th>
          <th>å°è¨ˆ</th>
        </tr>
      </table>
      <div id="total-price" class="total"></div>

      <label for="name">å§“å</label>
      <input type="text" id="name" required />

      <label for="phone">é›»è©±</label>
      <input type="tel" id="phone" required />

      <label for="payment">ä»˜æ¬¾æ–¹å¼</label>
      <select id="payment" required>
        <option value="">è«‹é¸æ“‡ä»˜æ¬¾æ–¹å¼</option>
        <option value="linepay">LINE Pay</option>
        <option value="credit">ä¿¡ç”¨å¡</option>
      </select>

      <button type="submit" class="btn">é€å‡ºè¨‚å–® âœ¦</button>
    </form>

    <footer>Â© 2025 Star Whisperer | Voyage of the Star River</footer>

    <script>
      // æ¨¡æ“¬å•†å“åƒ¹æ ¼
      const productPrices = {
        "å¤ªé™½ç³»Tæ¤": 880,
        "åœŸæ˜Ÿç’°æ‰‹éŒ¶": 2280,
        "éŠ€æ²³ç³»æ‰˜ç‰¹åŒ…": 1080,
        "å½—æ˜Ÿé …éŠ": 680
      };

      // è¼‰å…¥è³¼ç‰©è»Šå…§å®¹
      function loadCart() {
        const cart = JSON.parse(localStorage.getItem("cart")) || {};
        const table = document.getElementById("cart-table");
        let total = 0;

        if (Object.keys(cart).length === 0) {
          table.innerHTML = "<tr><td colspan='3'>ç›®å‰è³¼ç‰©è»Šæ˜¯ç©ºçš„ âœ¦</td></tr>";
          return;
        }

        let rows = "<tr><th>å•†å“åç¨±</th><th>æ•¸é‡</th><th>å°è¨ˆ</th></tr>";
        for (const [name, count] of Object.entries(cart)) {
          const price = productPrices[name] || 0;
          const subtotal = price * count;
          total += subtotal;
          rows += `<tr><td>${name}</td><td>${count}</td><td>$${subtotal}</td></tr>`;
        }
        table.innerHTML = rows;
        document.getElementById("total-price").textContent = "åˆè¨ˆé‡‘é¡ï¼š$" + total + " å…ƒ";
      }

      // é€å‡ºè¨‚å–®
      document.getElementById("checkout-form").addEventListener("submit", (e) => {
        e.preventDefault();
        const name = document.getElementById("name").value;
        const phone = document.getElementById("phone").value;
        const payment = document.getElementById("payment").value;

        if (!name || !phone || !payment) {
          alert("è«‹å®Œæ•´å¡«å¯«çµå¸³è³‡æ–™ âœ¦");
          return;
        }

        alert(`æ„Ÿè¬æ‚¨ï¼Œ${name}ï¼è¨‚å–®å·²é€å‡ºã€‚\nä»˜æ¬¾æ–¹å¼ï¼š${payment === "linepay" ? "LINE Pay" : "ä¿¡ç”¨å¡"}\nç¥æ‚¨æ˜Ÿéš›æ—…ç¨‹æ„‰å¿« âœ¨`);
        localStorage.removeItem("cart");
        window.location.href = "index.html";
      });

      loadCart();
    </script>
  </body>
</html>
